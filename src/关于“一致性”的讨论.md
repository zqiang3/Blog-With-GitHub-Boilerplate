---
layout: post
title: 一致性问题
slug: consistency
date: 2021-07-14 19:45:39
status: publish
author: 君祁
categories:
  - Maverick 
tags:
  - distributed system
excerpt: consistency
---


## 一致性问题的产生
同一份数据有多份副本，我们面临这样的问题，如何在它们之间同步数据，以便让客户端对数据有一致性的视图。 CAP理论对一致性的定义：每次读请求都能收到最新的数据或者是错误。

## 弱一致性
写入数据后，客户端访问可能看不到最新写入的数据，系统优先保证响应速度。弱一致性适合音视频聊天，实时多人游戏等场景。

## 最终一致性
写入数据后，客户端访问最终能看到写入的新数据（可能延迟几毫秒），数据被异步复制。 最终一致性在高可用系统中效果不错。

## 强一致性
写入数据后，客户端访问到的一定是最新数据。数据被同步复制。 强一致性适合需要事务的场景。